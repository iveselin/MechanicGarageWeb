extends ../layout



block head
    script(type='text/javascript').
            $(document).ready(function(){
                //Initialize the datePicker
                $("#weekPicker").datetimepicker({
                    format: 'DD/MM/YYYY',
                    minDate: moment()
                });

                //Get the value of Start and End of Week
                $('#weekPicker').on('dp.change', function (e) {
                    var value = $("#weekPicker").val();
                    var firstDate = moment(value, "DD/MM/YYYY").day(1).format("DD.MM.YYYY");
                    var lastDate =  moment(value, "DD/MM/YYYY").day(5).format("DD.MM.YYYY");
                    $("#weekPicker").val(firstDate + " - " + lastDate);

                    for (var i = 1; i<6; i++){
                        console.log(i);
                        var text = moment(value, "DD/MM/YYYY").day(i).format("DD.MM.YYYY");
                        $("#day"+i).text(text);
                        
                    }
                });
            });


block content 
    .container-fluid.text-center
        .row.content
            include ../includes/left_sidebar

            .col-sm-8.text-left
                h4 Napravi novi raspored
                form(method='POST' action='/administration/schedule')

                    .form-group-row
                        .col-sm-8
                            input.form-control(type= 'text', id = 'weekPicker', name = "week", placeholder='select a week')

                    -var days=['mon','tue','wen','thu','fri']
                    -var timeSlots = [8,9,10,11,13,14,15,16]
                    each day,i in days
                        .form-group-row
                            .col-sm-2
                                label.label-text(id = 'day'+(i+1)) 
                            .col-sm-6
                                each slot in timeSlots    
                                    label.checkbox-inline #{slot}
                                        input(type='checkbox', value=slot, name = day) 

                    .form-group-row
                        .col-sm-8
                            button.btn.btn-info(type='submit') Spremi raspored
            
            include ../includes/right_sidebar

    